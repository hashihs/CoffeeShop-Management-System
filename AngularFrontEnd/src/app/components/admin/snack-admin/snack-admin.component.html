<app-nav-admin></app-nav-admin>
<app-alert></app-alert>
<flash-messages></flash-messages>
<div class="container">
    <div class="row">
        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2"></div>
        <div class="col-xs-5 col-sm-10 col-md-10 col-lg-10">

            <a class="btn btn-default btn-md" [routerLink]="['/menu_admin']" role="button">Menu-Drinks</a> 

            <div class="card mb-4 shadow-sm">
                <div class="card-body">
                    <h2>Menu-Snacks</h2>
                    <hr>
                   <form [formGroup]="snackForm" (ngSubmit)="snackSubmit()">
                    <div class="row">
                      <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                        <label for="sname" class="lbl">Snack Name</label>
                        <input type="text" class="form-control" id="sname" placeholder="Event Name" name="sname" formControlName="sname" [ngClass]="{ 'is-invalid': submitted && f.sname.errors }">
                        <div *ngIf="submitted && f.sname.errors" class="invalid-feedback">
                          <div *ngIf="f.sname.errors.required">Snack Name is required</div>
                        </div>
                      </div>
                      <div class="form-group col-lg-6 col-md-6 col-sm-6 col-xs-6">
                        <label for="sprice" class="lbl">Price</label>
                        <input type="text" class="form-control" id="sprice" placeholder="Price" name="sprice" formControlName="sprice" [ngClass]="{ 'is-invalid': submitted && f.sprice.errors }">
                        <div *ngIf="submitted && f.sprice.errors" class="invalid-feedback">
                            <div *ngIf="f.sprice.errors.required">Price is required</div>
                        </div>
                      </div>
                    </div>
              
                    <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <label for="sdescript" class="lbl">Description</label>
                      <textarea class="form-control" rows="3" id="sdescript" placeholder="Description" name="sdescript" formControlName="sdescript" [ngClass]="{ 'is-invalid': submitted && f.sdescript.errors }"></textarea>
                      <div *ngIf="submitted && f.sdescript.errors" class="invalid-feedback">
                          <div *ngIf="f.sdescript.errors.required">Description is required</div>
                      </div>
                    </div>
                    <div class="card mb-4 shadow-sm">
                        <div class="card-body">
                          
                            <input type="file" name="photo" ng2FileSelect [uploader]="uploader" />
                            <!-- <button type="button" class="btn btn-s" (click)="uploader.uploadAll()" [disabled]="!uploader.getNotUploadedItems().length" > Upload</button> -->
                            
                        </div>
                    </div>
                    <br>
                    <div class="form-group col-lg-12 col-md-12 col-sm-12 col-xs-12">
                      <button [disabled]="!uploader.getNotUploadedItems().length" class="btn btn-default" (click)="uploader.uploadAll()">Add Snack</button>
                    </div>
                  </form>
                  <hr>
                </div>
            </div>

            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                  <tr>
                    <th>Image</th>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Description</th>  
                    <th >Action</th>
                    
                  </tr>
                </thead>
        
                <tbody>
                  <tr *ngFor="let snack of snacks">
                    <td>{{ snack.image }}</td>
                    <td>{{ snack.sname }}</td>
                    <td>{{ snack.sprice }}</td>
                    <td>{{ snack.sdescript }}</td>
                    
                    <td class="social-icon">
                       
                        <!-- <li><a href="#" class="fa fa-pencil" attr="facebook icon"></a></li> -->
                        <li><a (click)="deleteSnack(snack._id)" class="fa fa-trash-o"></a></li>                                
                    </td>                     
                  </tr>
                       
                </tbody>
        </table>
        </div>
    </div>
</div>